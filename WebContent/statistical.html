<!DOCTYPE html>
<html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<meta name="keywords" content="">
<title>统计</title>
<!-- Custom-Files -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<!-- Bootstrap-Core-CSS -->
<link href="css/css_slider.css" type="text/css" rel="stylesheet"
	media="all">
<!-- banner slider -->
<link rel="stylesheet" href="css/style.css" type="text/css" media="all">
<!-- Style-CSS -->
<link href="css/font-awesome.min.css" rel="stylesheet">
<!-- Font-Awesome-Icons-CSS -->
<!-- //Custom-Files -->

<!-- Web-Fonts -->
<link
	href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,200i,300,300i,400,400i,600,600i,700,700i,900,900i"
	rel="stylesheet">
<link
	href="http://fonts.googleapis.com/css?family=Niconne&amp;subset=latin-ext"
	rel="stylesheet">
<link
	href="http://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&amp;subset=devanagari,latin-ext"
	rel="stylesheet">
<!-- //Web-Fonts -->
<script src="js/jquery-3.2.1.min.js"></script>
<!-- <script type="text/javascript" src="http://echarts.baidu.com/build/dist/echarts.js"></script> -->
<script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>

</head>
<body>
	<div id="head"></div>
	<script>
		$("#head").load("nav.html");
	</script>
	<div id="home">
		<section class="portfolio py-5" id="statistical">
			<div class="container py-xl-5 py-lg-3">
				<h3 class="w3ls-title text-wh text-center font-weight-bold mb-5">
					统计 <span class="font-weight-light">图表</span>
				</h3>
				<div class="row contact-form">
					<div class="offset-lg-2"></div>
					<div class="col-lg-8 wthree-form-left">
						<div id="main" style="width: 100%; height: 400px;">柱状图</div>
<!-- 						<div id="main1" style="width: 100%; height: 400px;">饼图</div> -->
					</div>
					<div class="offset-lg-2"></div>
				</div>
				<!-- contact address -->
<!-- 				<div class="row address bg-li">
					<div class="col-lg-4 address-grid">
						<div class="row address-info">
							<div
								class="col-md-3 col-4 address-left text-lg-center text-sm-right text-center">
								<i class="fa fa-envelope"></i>
							</div>
							<div class="col-md-9 col-8 address-right">
								<p>
									<a href="mailto:example@email.com"> mail 1@example.com</a>
								</p>
								<p>
									<a href="mailto:example@email.com"> mail 2@example.com</a>
								</p>
							</div>
						</div>
					</div>
					<div class="col-lg-4 address-grid my-lg-0 my-4">
						<div class="row address-info">
							<div
								class="col-md-3 col-4 address-left text-lg-center text-sm-right text-center">
								<i class="fa fa-phone"></i>
							</div>
							<div class="col-md-9 col-8 address-right">
								<p>+1 234 567 8901</p>
								<p>+1 567 567 9876</p>
							</div>
						</div>
					</div>
					<div class="col-lg-4 address-grid">
						<div class="row address-info">
							<div
								class="col-md-3 col-4 address-left text-lg-center text-sm-right text-center">
								<i class="fa fa-map"></i>
							</div>
							<div class="col-md-9 col-8 address-right">
								<p>786 Main Road, hollies</p>
								<p>California, USA</p>
							</div>
						</div>
					</div>
				</div> -->
				<!-- //contact address -->
			</div>
		</section>
	</div>

	<script>
'use strict';
var myChart = echarts.init(document.getElementById('main'));
var option ={};
/* var option1 ={}; */
$.ajax({
    type: "get",
    url: "/TeamProject/DataServlet?action=querynum",
    dataType: 'JSON',
    async: false,
    success: function (result) {
		let josn = result;
		let josn_name=[];
		let josn_num=[];
		for(let a of josn){
			josn_name.push(a.name);
			josn_num.push(a.num);
		}
        console.log(result);
        option = {       		
                title: {
                    text: '科属统计柱状图'
                },
                tooltip: {},
                legend: {
                	x:'right',
                    data:['数量']
                },
                xAxis: {
                    data: josn_name
                },
                
                yAxis: {},
                series: [{
                    name: '数量',
                    type: 'bar',
                    data: josn_num
                }]
            };
       /*  option1 = {
            series : [
                {
                    name: '科属',
                    type: 'pie',
                    radius : '45%',
                    center: ['38%', '50%'],
                    data:josn,
                }
            ]
        }; */

    }
});

//将echart初始化到div中
myChart.setOption(option);
/* myChart1.setOption(option1); */
window.onresize = function() {
    //重置容器高宽
/*     resizemyChartContainer(); */
    myChart.resize();
};
//var myChart = echarts.init(document.getElementById('main'));
    //指定图表的配置项和数据
</script>
</body>
</html>